"use strict";(self.webpackChunksupastash_docs=self.webpackChunksupastash_docs||[]).push([[9334],{2471:(e,s,r)=>{r.r(s),r.d(s,{assets:()=>i,contentTitle:()=>d,default:()=>o,frontMatter:()=>t,metadata:()=>n,toc:()=>h});const n=JSON.parse('{"id":"manual-refreshes","title":"\ud83d\udd04 Manual Refresh","description":"Need to manually trigger a refresh? Use these from:","source":"@site/docs/manual-refreshes.md","sourceDirName":".","slug":"/manual-refreshes","permalink":"/supastash/docs/manual-refreshes","draft":false,"unlisted":false,"editUrl":"https://github.com/0xZekeA/supastash/tree/main/docs-site/docs/manual-refreshes.md","tags":[],"version":"current","frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"\ud83d\udcda Sync Log Utilities","permalink":"/supastash/docs/sync-log-utils"},"next":{"title":"useSupastash","permalink":"/supastash/docs/useSupastash-hook"}}');var a=r(4848),l=r(8453);const t={},d="\ud83d\udd04 Manual Refresh",i={},h=[{value:"\ud83d\udd01 <code>refreshTable(table: string): void</code>",id:"-refreshtabletable-string-void",level:3},{value:"\ud83d\udd01 <code>refreshAllTables(): void</code>",id:"-refreshalltables-void",level:3},{value:"\u26a0\ufe0f <code>refreshTableWithPayload()</code> (Deprecated)",id:"\ufe0f-refreshtablewithpayload-deprecated",level:3},{value:"\ud83d\udd0d Behind the Scenes",id:"-behind-the-scenes",level:2},{value:"\ud83d\udca1 Best Practices",id:"-best-practices",level:2},{value:"\ud83d\udd17 What\u2019s Next",id:"-whats-next",level:2}];function c(e){const s={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",hr:"hr",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,l.R)(),...e.components};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(s.header,{children:(0,a.jsx)(s.h1,{id:"-manual-refresh",children:"\ud83d\udd04 Manual Refresh"})}),"\n",(0,a.jsx)(s.p,{children:"Need to manually trigger a refresh? Use these from:"}),"\n",(0,a.jsx)(s.pre,{children:(0,a.jsx)(s.code,{className:"language-ts",children:'import {\n  refreshTable,\n  refreshAllTables,\n} from "supastash/utils/sync/refreshTables";\n'})}),"\n",(0,a.jsxs)(s.h3,{id:"-refreshtabletable-string-void",children:["\ud83d\udd01 ",(0,a.jsx)(s.code,{children:"refreshTable(table: string): void"})]}),"\n",(0,a.jsx)(s.p,{children:"For refreshing one table's local data:"}),"\n",(0,a.jsx)(s.pre,{children:(0,a.jsx)(s.code,{className:"language-ts",children:'refreshTable("orders");\n'})}),"\n",(0,a.jsxs)(s.p,{children:["Emits a ",(0,a.jsx)(s.code,{children:"refresh:orders"})," event. Re-fetches local rows + triggers UI update."]}),"\n",(0,a.jsxs)(s.h3,{id:"-refreshalltables-void",children:["\ud83d\udd01 ",(0,a.jsx)(s.code,{children:"refreshAllTables(): void"})]}),"\n",(0,a.jsx)(s.p,{children:"Refreshes everything:"}),"\n",(0,a.jsx)(s.pre,{children:(0,a.jsx)(s.code,{className:"language-ts",children:"refreshAllTables();\n"})}),"\n",(0,a.jsx)(s.p,{children:"Good after a full sync or reset."}),"\n",(0,a.jsxs)(s.h3,{id:"\ufe0f-refreshtablewithpayload-deprecated",children:["\u26a0\ufe0f ",(0,a.jsx)(s.code,{children:"refreshTableWithPayload()"})," (Deprecated)"]}),"\n",(0,a.jsxs)(s.p,{children:["This used to manually reflect data in the UI. No longer needed \u2014 use Supastash queries or ",(0,a.jsx)(s.code,{children:"refreshTable()"}),"."]}),"\n",(0,a.jsx)(s.pre,{children:(0,a.jsx)(s.code,{className:"language-ts",children:'// Deprecated \u2014 avoid\nrefreshTableWithPayload("orders", { id: "abc", ... }, "update");\n'})}),"\n",(0,a.jsx)(s.hr,{}),"\n",(0,a.jsx)(s.h2,{id:"-behind-the-scenes",children:"\ud83d\udd0d Behind the Scenes"}),"\n",(0,a.jsxs)(s.ul,{children:["\n",(0,a.jsxs)(s.li,{children:["\ud83d\udd10 Supastash uses a ",(0,a.jsx)(s.strong,{children:"version-based cache"}),": if nothing changes, no re-renders."]}),"\n",(0,a.jsxs)(s.li,{children:["\ud83e\uddfc Realtime listeners are de-duped per ",(0,a.jsx)(s.code,{children:"table + filter"}),"."]}),"\n",(0,a.jsx)(s.li,{children:"\u26a1 Flushes UI updates only after debounce (default 100ms)."}),"\n",(0,a.jsxs)(s.li,{children:["\ud83e\udde0 Grouped maps (via ",(0,a.jsx)(s.code,{children:"extraMapKeys"}),") use ",(0,a.jsx)(s.code,{children:"Map<string, R[]>"}),"."]}),"\n"]}),"\n",(0,a.jsx)(s.hr,{}),"\n",(0,a.jsx)(s.h2,{id:"-best-practices",children:"\ud83d\udca1 Best Practices"}),"\n",(0,a.jsxs)(s.ul,{children:["\n",(0,a.jsxs)(s.li,{children:["Use ",(0,a.jsx)(s.code,{children:"dataMap"})," for instant lookups (e.g., ",(0,a.jsx)(s.code,{children:"dataMap.get(id)"}),")"]}),"\n",(0,a.jsxs)(s.li,{children:["Use ",(0,a.jsx)(s.code,{children:"groupedBy.chat_id"})," for message grouping"]}),"\n",(0,a.jsxs)(s.li,{children:["Use ",(0,a.jsx)(s.code,{children:"lazy: true"})," in modal screens or deeply nested routes"]}),"\n",(0,a.jsxs)(s.li,{children:["Bump ",(0,a.jsx)(s.code,{children:"flushIntervalMs"})," higher if syncing high-volume tables"]}),"\n",(0,a.jsxs)(s.li,{children:["Leverage ",(0,a.jsx)(s.code,{children:"onPushToRemote"})," for custom API pipelines"]}),"\n"]}),"\n",(0,a.jsx)(s.hr,{}),"\n",(0,a.jsx)(s.h2,{id:"-whats-next",children:"\ud83d\udd17 What\u2019s Next"}),"\n",(0,a.jsxs)(s.ul,{children:["\n",(0,a.jsx)(s.li,{children:(0,a.jsx)(s.a,{href:"/supastash/docs/useSupastashData",children:"useSupastashData"})}),"\n",(0,a.jsx)(s.li,{children:(0,a.jsx)(s.a,{href:"/supastash/docs/configuration",children:"Configuration Guide"})}),"\n",(0,a.jsx)(s.li,{children:(0,a.jsx)(s.a,{href:"/supastash/docs/supastash-query-builder",children:"Query Builder Docs"})}),"\n",(0,a.jsx)(s.li,{children:(0,a.jsx)(s.a,{href:"/supastash/docs/useSupastash-hook",children:"Hook Reference"})}),"\n"]}),"\n",(0,a.jsx)(s.hr,{})]})}function o(e={}){const{wrapper:s}={...(0,l.R)(),...e.components};return s?(0,a.jsx)(s,{...e,children:(0,a.jsx)(c,{...e})}):c(e)}},8453:(e,s,r)=>{r.d(s,{R:()=>t,x:()=>d});var n=r(6540);const a={},l=n.createContext(a);function t(e){const s=n.useContext(l);return n.useMemo((function(){return"function"==typeof e?e(s):{...s,...e}}),[s,e])}function d(e){let s;return s=e.disableParentContext?"function"==typeof e.components?e.components(a):e.components||a:t(e.components),n.createElement(l.Provider,{value:s},e.children)}}}]);